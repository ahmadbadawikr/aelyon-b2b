= render partial: 'spree/shared/error_messages', locals: { target: @vendor }
.row
  .col-md-6
    .form-group
      = f.field_container :company_id_type do
        = f.label :company_id_type
        = f.text_field :company_id_type, class: 'form-control'
      = f.field_container :company_id do
        = f.label :company_id
        = f.text_field :company_id, class: 'form-control'
      = f.field_container :name do
        = f.label :name
        = f.text_field :name, class: 'form-control'
      = field_container f.object, :state, class: ["form-group", "vendor-row"] do
        = f.label :state_id, Spree.t(:state)
        span id="b state" 
          - if f.object.country.try(:states)
            = f.text_field :state_name, style: "display: #{f.object.country.try(:states) && f.object.country.states.empty? ? 'block' : 'none' };", disabled: !(f.object.country.try(:states) && f.object.country.states.empty?), class: 'form-control state_name'
            = f.collection_select :state_id, f.object.country.states.sort, :id, :name, { include_blank: true }, { class: 'select2', style: "display: #{ f.object.country.states.empty? ? 'none' : 'block' };", disabled: f.object.country.states.empty? }
          - else
            div
              em No country set.
        = error_message_on f.object, :state_id
  .col-md-6
    .form-group
      = f.field_container :about_us do
        = f.label :about_us
        = f.text_area :about_us, class: 'form-control'
      = f.field_container :contact_us do
        = f.label :contact_us
        = f.text_area :contact_us, class: 'form-control'
      = f.field_container :state do
        = f.label :state
        = f.select :state, options_for_select(Spree::Vendor.state_machines[:state].states.collect { |s| [Spree.t("vendor_states.#{s.name}"), s.value] }, selected: @vendor.state), {}, class: 'select2', required: :required
      - if Spree.version.to_f >= 3.6
        = f.field_container :image do
          = f.label :image
          = f.file_field :image
          = image_tag main_app.url_for(@vendor.image.url(:small)) if @vendor.image
      = f.field_container :commission_rate do
        = f.label :commission_rate
        = f.number_field :commission_rate, step: '0.01', class: 'form-control'
      = f.field_container :notification_email do
        = f.label :notification_email
        = f.email_field :notification_email, class: 'form-control'
